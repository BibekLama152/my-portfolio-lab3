import{j as e,a as c}from"./index-B50kcB1o.js";import{u,C as d,B as h,T as p,a as s,b as x}from"./TextField-JUFvbOlN.js";const f=()=>{const{register:r,handleSubmit:i,formState:{errors:t}}=u(),n=async o=>{const m=c.isAuthenticated();try{const a=await fetch("/api/contacts",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${m.token}`},body:JSON.stringify(o)}),l=await a.json();a.ok?alert("Contact created"):alert(l.error||"Error saving contact")}catch{alert("Network error")}};return e.jsx(d,{maxWidth:"sm",children:e.jsxs(h,{mt:4,children:[e.jsx(p,{variant:"h5",mb:2,children:"Add Contact"}),e.jsxs("form",{onSubmit:i(n),children:[e.jsx(s,{label:"Name",fullWidth:!0,margin:"normal",...r("name",{required:"Name is required"}),error:!!t.name,helperText:t.name?.message}),e.jsx(s,{label:"Email",fullWidth:!0,margin:"normal",...r("email",{required:"Email is required"}),error:!!t.email,helperText:t.email?.message}),e.jsx(s,{label:"Message",fullWidth:!0,margin:"normal",multiline:!0,rows:4,...r("message")}),e.jsx(x,{type:"submit",variant:"contained",sx:{mt:2},children:"Submit"})]})]})})};export{f as default};
