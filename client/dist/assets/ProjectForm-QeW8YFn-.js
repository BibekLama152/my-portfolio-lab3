import{j as t,a as m}from"./index-B50kcB1o.js";import{u,C as d,B as h,T as p,a as i,b as j}from"./TextField-JUFvbOlN.js";const f=()=>{const{register:e,handleSubmit:o,formState:{errors:a}}=u(),s=async n=>{const l=m.isAuthenticated();try{const r=await fetch("/api/projects",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${l.token}`},body:JSON.stringify(n)}),c=await r.json();r.ok?alert("Project created"):alert(c.error||"Error saving project")}catch{alert("Network error")}};return t.jsx(d,{maxWidth:"sm",children:t.jsxs(h,{mt:4,children:[t.jsx(p,{variant:"h5",mb:2,children:"Add Project"}),t.jsxs("form",{onSubmit:o(s),children:[t.jsx(i,{label:"Title",fullWidth:!0,margin:"normal",...e("title",{required:"Title is required"}),error:!!a.title,helperText:a.title?.message}),t.jsx(i,{label:"Description",fullWidth:!0,margin:"normal",multiline:!0,rows:4,...e("description")}),t.jsx(i,{label:"Link",fullWidth:!0,margin:"normal",...e("link")}),t.jsx(j,{type:"submit",variant:"contained",sx:{mt:2},children:"Submit"})]})]})})};export{f as default};
